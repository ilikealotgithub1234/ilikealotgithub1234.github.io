<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>iDie</title>
    <style>
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-3801791948147346",
    enable_page_level_ads: true
  });
  </script>
      #map {
        height: 100%;
      }

      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <h3>Data is from Janurary 2017 to September 2018</h3>

    <div id="map"></div>
    <script>
      let map;
      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 12,
          center: new google.maps.LatLng(40.697362, -73.979710)
        });
        map.data.loadGeoJson('https://mcforlife.github.io/precincts.json'); //loads json file


        window.eqfeed_callback = function(results) { //adds precinct borders
          console.log(results)
          for (let i = 0; i < results.features.length; i++) {
            let coords = results.features[i].geometry.coordinates;
            let latLng = new google.maps.LatLng(coords[1],coords[0]);
            let infowindow = new google.maps.InfoWindow({
              content: "results.features[i].properties.precinct"
            });
            let marker = new google.maps.Marker({
              position: latLng,
              map: map
            }).addListener('click', function() {
              infowindow.open(map, marker);
            });

          }
        }
        map.data.setStyle({
          fillColor: 'blue',
          strokeWeight: 1
        });

        let precinctmidsouth = new google.maps.InfoWindow({position: {lat: 40.753888, lng: -73.994894}, map: map, content: '14 Precinct 0.1453 Murders per 1,000 residents pop 20,651'});
        let precinct1 = new google.maps.InfoWindow({position: {lat: 40.720359, lng: -74.006975}, map: map, content: '1 Precinct 0.15 Murders per 1000 residents pop 66,679'});
        let precinctcentral = new google.maps.InfoWindow({position: {lat: 40.783318, lng: -73.964372}, map: map, content: 'Central Park Precinct 40 Murders per 1000 residents pop 25'});
        let precinct6 = new google.maps.InfoWindow({position: {lat: 40.733994, lng: -74.005434}, map: map, content: '6 Precinct 0 Murders per 1000 residents pop 62'});
        let precinct7 = new google.maps.InfoWindow({position: {lat: 40.716407, lng: -73.983923}, map: map, content: '7 Precinct 0 Murders per 1000 residents pop 56240'});
        let precinct9 = new google.maps.InfoWindow({position: {lat: 40.726564, lng: -73.987824}, map: map, content: '9 Precinct 0.0392 Murders per 1000 residents pop 77643'});
        let precinct10 = new google.maps.InfoWindow({position: {lat: 40.742706, lng: -73.998636}, map: map, content: '10 Precinct 0.0199 Murders per 1000 residents pop 50180'});
        let precinct13 = new google.maps.InfoWindow({position: {lat: 40.736735, lng: -73.982697}, map: map, content: '13 Precinct 0.0427 Murders per 93640 residents pop X'});
        let precinct17 = new google.maps.InfoWindow({position: {lat: 40.756756, lng: -73.970782}, map: map, content: '17 Precinct 0.0253 Murders per 1000 residents pop 79126'});
        let precinctmidnorth = new google.maps.InfoWindow({position: {lat: 40.765056, lng: -73.985326}, map: map, content: 'Midtown North Precinct 0.0555 Murders per 1000 residents pop 54066'});
        let precinct19 = new google.maps.InfoWindow({position: {lat: 40.767156, lng: -73.963828}, map: map, content: '19 Precinct 0.0048 Murders per 1000 residents pop 208259'});
        let precinct20 = new google.maps.InfoWindow({position: {lat: 40.784179, lng: -73.974990}, map: map, content: '20 Precinct 0.0195 Murders per 1000 residents pop 102624'});
        let precinctcp = new google.maps.InfoWindow({position: {lat: 40.783201, lng: -73.964394}, map: map, content: 'Central Park Precinct 40 Murders per 1000 residents pop 25'});
        let precinct23 = new google.maps.InfoWindow({position: {lat: 40.789059, lng: -73.947079}, map: map, content: '23 Precinct 0.0958 Murders per 1000 residents pop 73106'});
        let precinct5 = new google.maps.InfoWindow({position: {lat: 40.716176, lng: -73.997460}, map: map, content: '5 Precinct 0.019 Murders per 52683 residents pop X'});
        let precinct24 = new google.maps.InfoWindow({position: {lat: 40.796484, lng: -73.967337}, map: map, content: '24 Precinct 0.0376 Murders per 1000 residents pop 106460'});
        let precinct26 = new google.maps.InfoWindow({position: {lat: 40.814765, lng: -73.956417}, map: map, content: '26 Precinct 0.0404 Murders per 1000 residents pop 49508'});
        let precinct28 = new google.maps.InfoWindow({position: {lat: 40.808858, lng: -73.952613}, map: map, content: '28 Precinct 0.0893 Murders per 1000 residents pop 44781'});
        let precinct25 = new google.maps.InfoWindow({position: {lat: 40.800688, lng: -73.941107}, map: map, content: '25 Precinct 0.0844 Murders per 1000 residents pop 47405'});
        let precinct32 = new google.maps.InfoWindow({position: {lat: 40.815727, lng: -73.945355}, map: map, content: '32 Precinct 0.0987 Murders per 1000 residents pop 70942'});
        let precinct30 = new google.maps.InfoWindow({position: {lat: 40.828757, lng: -73.943648}, map: map, content: '30 Precinct 0.0659 Murders per 1000 residents pop 60685'});
        let precinct33 = new google.maps.InfoWindow({position: {lat: 40.840705, lng: -73.935750}, map: map, content: '33 Precinct 0.039 Murders per 1000 residents pop 76958'});
        let precinct34 = new google.maps.InfoWindow({position: {lat: 40.851587, lng: -73.935417}, map: map, content: '34 Precinct 0.0354 Murders per 1000 residents pop 113062'});





*/

      }
  //  let precinctmidsouthth = new google.maps.InfoWindow({position: precinct14, map: map, content: '14 Precinct 0.1453 Murders per 1,000 residents pop 20,651'});

    </script>
    <script defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCk7PFab2hrN4Gu0Nw4IFnBdwREdi3qneA&callback=initMap">
    </script>
  </body>
</html>
